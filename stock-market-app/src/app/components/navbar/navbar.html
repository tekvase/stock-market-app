<nav class="navbar" *ngIf="isAuthenticated">
  <div class="nav-content">
    <div class="nav-brand">
      <a routerLink="/" class="brand-link" (click)="closeMenu()">StockTracker</a>
    </div>

    <button class="menu-toggle" (click)="toggleMenu()" [class.active]="menuOpen">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav-links" [class.open]="menuOpen">
      <a routerLink="/" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" (click)="closeMenu()">Dashboard</a>
      <a routerLink="/history" routerLinkActive="active-link" (click)="closeMenu()">History</a>
      <a routerLink="/profile" routerLinkActive="active-link" (click)="closeMenu()">Profile</a>
      <a *ngIf="showDevLink" routerLink="/dev" routerLinkActive="active-link" (click)="closeMenu()" class="dev-link">Dev</a>
    </div>

    <div class="nav-user" [class.open]="menuOpen">
      <span class="user-avatar">{{ userInitials }}</span>
      <span class="user-name">{{ userName }}</span>
      <button class="theme-toggle" (click)="themeService.toggleTheme()" [attr.aria-label]="themeService.isDark ? 'Switch to light mode' : 'Switch to dark mode'">
        <span class="theme-icon">{{ themeService.isDark ? 'â˜€ï¸' : 'ğŸŒ™' }}</span>
      </button>
      <button class="nav-logout-btn" (click)="logout()">Logout</button>
    </div>
  </div>
</nav>
